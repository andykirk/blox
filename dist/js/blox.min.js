window.BLOX||(window.BLOX={settings:{default_type:"html"},instances:[],helpers:{}}),BLOX.containers={options:[{name:"One-up",icon:""},{name:"Two-up",icon:""},{name:"Three-up",icon:""},{name:"Float left",icon:""},{name:"Float right",icon:""}],add:function(){},remove:function(){}},BLOX.controls={add:function(e){var t="";BLOX.containers.options.forEach(function(e,n){t+="<button>"+e.name+"</button>"}),e.insertAdjacentHTML("afterend","<div data-blox-controls><button>"+BLOX.icons.plus+" </button><div>"+t+"</div></div>"),e.nextElementSibling.querySelector("[data-blox-controls] > button").addEventListener("click",function(e){console.log(e),e.preventDefault()})},remove:function(){}},BLOX.helpers.parseHTML=function(e){var t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,t.body.children},BLOX.icons={plus:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <line x1="12" y1="5" x2="12" y2="19" /> <line x1="5" y1="12" x2="19" y2="12" /></svg>'},BLOX.replace=function(e){console.log("Creating new Blox context");var t=document.querySelectorAll(e);Array.prototype.forEach.call(t,function(t,n){if("textarea"==t.tagName.toLowerCase()){t.style.display="none";var o=t.value,a=BLOX.helpers.parseHTML(o),r=!0;if(Array.prototype.forEach.call(a,function(e,t){var n=a[t].children;"div"==e.tagName.toLowerCase()&&e.hasAttribute("data-blox-container")?Array.prototype.forEach.call(n,function(e,t){"div"==e.tagName.toLowerCase()&&e.hasAttribute("data-blox-panel")||(r=!1)}):r=!1}),r)var l=a;else l=BLOX.helpers.parseHTML('<div data-blox-container><div data-blox-panel data-blox-type="'+BLOX.settings.default_type+'">'+o+"</div></div>");var i=document.createElement("div");i.setAttribute("data-blox-area",""),t.parentNode.insertBefore(i,t.nextSibling),i.appendChild(l[0]),blox_containers=i.querySelectorAll("[data-blox-container]"),Array.prototype.forEach.call(blox_containers,function(e,t){BLOX.controls.add(e)})}else console.log("Can't attached BLOX to none textarea element:",t,"Selector was: '"+e+"'")})};